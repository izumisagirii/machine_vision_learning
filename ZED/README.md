# ZED

## 介绍
ZED双目相机使用接口

## 软件架构     
1.ZEDcamera为接口      
2.main.cpp为例子       

## 2021/3/29 增加说明
对此代码进行修改    
使用的sdk版本为3.4.2 适配cuda版本为11.1    

目前遇到的问题：点云<big>**巨差**</big>，生成<big>**巨慢**</big>   
解决办法：别用点云     
  [链接](https://www.bilibili.com/bangumi/play/ep63470 "链接")  
崔永恒QQ：2223700206

## 安装教程
此代码使用的sdk版本为2.8.5 (sdk3和sdk2不兼容)

  [这是一个可爱的链接](https://www.stereolabs.com/developers/release/archives/ "install")  

## 使用说明
![ZED](./picture/ZED.jpg)   
ZED 

## HITCRT视觉组驱动规范
V1 2020.06      
1. 建议编写新传感器时参考现有的驱动     
2. 编写驱动时在底层对数据如图像,点云等加锁,代码调用驱动时就不用考虑加锁的问题了,具体实现参考大华和kinect azure驱动     
3. 尽量使用std::shared_ptr<T>来共享数据,这样比较快且相对于普通指针不容易出问题,具体参考现有驱动.具体实现参考大华和kinect azure驱动        
4. 编写驱动时要尽量考虑各种情况,例如:       
    1)代码开启时没有插入设备,尽量保证代码不会崩溃,并尝试刷新设备列表,尝试连接设备;      
    2)代码中途设备意外断开,尽量保证代码不会崩溃而是尝试重新连接设备;      
    3)尽量捕获底层sdk抛出的所有异常并妥善处理,防止代码意外崩溃;       
    4)具体参考串口驱动程序,串口驱动程序能够实现运行中连接设备,设备断开后自动重新连接,并且处理了底层boost的异常                    
5. 驱动编写时尽量隐藏更多细节,例如大华驱动,用户使用时只用调用三个函数,构造函数,抓图函数和获取图像函数.之所以将图像获取分为抓图函数和图像获取两个函数是为了方便多线程编写,按照2中的要求对数据妥善加锁后,用户开多线程时可以在抓图线程调用抓图函数,处理线程调用图像获取函数,具体见大华驱动的
main.cpp和test_thread.cpp,像livox那样采用回调没必要编写多线程的可以不提供多线程例子     
6. 使用每个传感器在码云上建立一个驱动工程,由专门的人负责编写,大家使用驱动时最好从驱动工程里面获取最新版本的代码,以前比赛工程里面的驱动可能不是最新的,大部分驱动是2020年按照上面原则改写的最好使用改写的驱动.       
7. 以前的驱动除了kinect azure和串口外,都没来得及实现第4条,第2,3,5条已经实现了但没来得及测试,希望明年有人进行测试并且继续完善没来得及实现的功       
能.      
8. 为每个驱动工程编写readme文档        
9. 驱动编写完成后要进行完整的测试,如检查多线程每个线程的帧率是否达到传感器标称值,如果底层线程锁合适帧率应该非常接近标称值     

#### 参与贡献

1. Fork 本仓库
2. 新建 Feat_xxx 分支
3. 提交代码
4. 新建 Pull Request


#### 码云特技

1. 使用 Readme\_XXX.md 来支持不同的语言，例如 Readme\_en.md, Readme\_zh.md
2. 码云官方博客 [blog.gitee.com](https://blog.gitee.com)
3. 你可以 [https://gitee.com/explore](https://gitee.com/explore) 这个地址来了解码云上的优秀开源项目
4. [GVP](https://gitee.com/gvp) 全称是码云最有价值开源项目，是码云综合评定出的优秀开源项目
5. 码云官方提供的使用手册 [https://gitee.com/help](https://gitee.com/help)
6. 码云封面人物是一档用来展示码云会员风采的栏目 [https://gitee.com/gitee-stars/](https://gitee.com/gitee-stars/)
